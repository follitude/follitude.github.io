{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/materialize/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/materialize/source/images/close.png","path":"images/close.png","modified":0,"renderable":1},{"_id":"themes/materialize/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/materialize/source/images/next.png","path":"images/next.png","modified":0,"renderable":1},{"_id":"themes/materialize/source/images/prev.png","path":"images/prev.png","modified":0,"renderable":1},{"_id":"themes/materialize/source/js/build.txt","path":"js/build.txt","modified":0,"renderable":1},{"_id":"themes/materialize/source/js/app.js","path":"js/app.js","modified":0,"renderable":1},{"_id":"themes/materialize/source/js/lightbox-on-articles.js","path":"js/lightbox-on-articles.js","modified":0,"renderable":1},{"_id":"themes/materialize/source/js/loadCss.js","path":"js/loadCss.js","modified":0,"renderable":1},{"_id":"themes/materialize/source/js/share-post.js","path":"js/share-post.js","modified":0,"renderable":1},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.woff","path":"fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.woff2","path":"fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/materialize/source/css/vendors.css","path":"css/vendors.css","modified":0,"renderable":1},{"_id":"themes/materialize/source/fonts/FontAwesome.otf","path":"fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.eot","path":"fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.ttf","path":"fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/materialize/source/js/vendors.js","path":"js/vendors.js","modified":0,"renderable":1},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.svg","path":"fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/index.html","hash":"2c84bbeb70a6e1e08c177ffddccd34af66734332","modified":1510903936507},{"_id":"themes/materialize/.editorconfig","hash":"db4ad0a4c03f9eed00e9e18e016c512fb84a8548","modified":1510893735624},{"_id":"themes/materialize/.gitignore","hash":"0746309d8b143cc8a67c462e848c87786ae682e8","modified":1510893735624},{"_id":"themes/materialize/Gruntfile.js","hash":"8302d6a63c73a245e881ee7c3285a55416feeabb","modified":1510893735624},{"_id":"themes/materialize/LICENSE","hash":"031543c3ea85c553a3ef71fbe2e01ed11ab9546f","modified":1510893735624},{"_id":"themes/materialize/README.md","hash":"441453cbf1af7a2ca776da4159382c0b4c5b2efe","modified":1510893735624},{"_id":"themes/materialize/_config.yml","hash":"bce8e685a38464168555c61a66bd52413d028fcf","modified":1510893735624},{"_id":"themes/materialize/materialize.iml","hash":"913909afe723a8eb9340ac95e887e7aeb94cbadc","modified":1510893735624},{"_id":"themes/materialize/package-lock.json","hash":"42f610997c956e1be58c4c04d9c7df11740af32b","modified":1510893735624},{"_id":"themes/materialize/package.json","hash":"410b0c9ace2403108c80332e542e78c21d7e980b","modified":1510893735624},{"_id":"source/_posts/Replace-HDFS-with-CephFS-in-Hadoop.md","hash":"a54f26ed69f0ded08f31c7962f51c6e3f1faf437","modified":1509542978788},{"_id":"source/_posts/hello-world.md","hash":"8a02477044e2b77f1b262da2c48c01429e4a32e4","modified":1509542978788},{"_id":"themes/materialize/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1510893735584},{"_id":"themes/materialize/.git/config","hash":"17747d3e2687e9180fd8dc096fb47dab3319c8cc","modified":1510893735604},{"_id":"themes/materialize/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1510893714459},{"_id":"themes/materialize/.git/index","hash":"2d22c43eaeb5401f15719703504b5bc03f0400fe","modified":1510893944861},{"_id":"themes/materialize/.git/packed-refs","hash":"9c323b11fce4ddf3cd08236a6a5caa50600772e9","modified":1510893735584},{"_id":"themes/materialize/.idea/materialize.iml","hash":"980957b57c4f1eae5e85d664d8375f83d47d3e5a","modified":1510893735624},{"_id":"themes/materialize/.idea/modules.xml","hash":"ec2f37f6d698fded09eaa7d488852b32e34208fd","modified":1510893735624},{"_id":"themes/materialize/.idea/vcs.xml","hash":"6f94fc1df9e8721673d47588ac444667dc9ded06","modified":1510893735624},{"_id":"themes/materialize/layout/archive.ejs","hash":"ec498c6c0606acde997ce195dad97b267418d980","modified":1510893735624},{"_id":"themes/materialize/layout/blank.ejs","hash":"a0f69855d25b5469d5a5bef4e4eb4b53d5954637","modified":1510893735624},{"_id":"themes/materialize/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1510893735624},{"_id":"themes/materialize/layout/index.ejs","hash":"821e7ac309a0522e8d83770d914896bea85747ed","modified":1510893735624},{"_id":"themes/materialize/layout/layout.ejs","hash":"58d96a1c38ab42c0b32caeeb2e4011e462b68f71","modified":1510893735624},{"_id":"themes/materialize/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1510893735624},{"_id":"themes/materialize/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1510893735624},{"_id":"themes/materialize/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1510893735624},{"_id":"themes/materialize/languages/default.yml","hash":"feb1dd022dc8897d65baa5b927de2a3d4178d798","modified":1510893735624},{"_id":"themes/materialize/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1510893714515},{"_id":"themes/materialize/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1510893714515},{"_id":"themes/materialize/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1510893714515},{"_id":"themes/materialize/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1510893714503},{"_id":"themes/materialize/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1510893714515},{"_id":"themes/materialize/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1510893714503},{"_id":"themes/materialize/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1510893714503},{"_id":"themes/materialize/.git/hooks/pre-rebase.sample","hash":"18be3eb275c1decd3614e139f5a311b75f1b0ab8","modified":1510893714503},{"_id":"themes/materialize/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1510893714515},{"_id":"themes/materialize/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1510893714515},{"_id":"themes/materialize/.git/logs/HEAD","hash":"fa66cac5e5d7983e9a565fb394b2ca54e5c8a8ce","modified":1510893735604},{"_id":"themes/materialize/.idea/inspectionProfiles/Project_Default.xml","hash":"eced7cb2ced813116ee9d0cf49b9e57644906b79","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/archive-post.ejs","hash":"7dd22669aef21131c8bcbc02b1ecee0d0981d313","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/archive.ejs","hash":"6ede948017698a70de63139ea1e96c3870ce42c1","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/google-analytics.ejs","hash":"3d813ec79148d35d96197e8e0a594a2ee53142c3","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/article.ejs","hash":"ad10c4cc90b0827561ea50f04f4ea43246453132","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/header.ejs","hash":"f2bbc988eb9ba3ae03ea550b714e98110bcb75ce","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/mobile-nav.ejs","hash":"347cf1befd2ea637c24bd5901929d8e36e359e75","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/sidebar.ejs","hash":"c70869569749a8f48cce202fa57926c06b55fdab","modified":1510893735624},{"_id":"themes/materialize/layout/_widget/archive.ejs","hash":"c29c3e2c070eab83e1193daeaf820c5c924f5ad2","modified":1510893735624},{"_id":"themes/materialize/layout/_widget/category.ejs","hash":"0e9de1c22dccbba747ec4726dfa4bf61bb103691","modified":1510893735624},{"_id":"themes/materialize/layout/_widget/recent_posts.ejs","hash":"d6591c745402fbc600e682830a343f732e336e4f","modified":1510893735624},{"_id":"themes/materialize/layout/_widget/tag.ejs","hash":"0f7f9b63c4b034ad556fec6b90375a63ad19f1f3","modified":1510893735624},{"_id":"themes/materialize/layout/_widget/tagcloud.ejs","hash":"9028129dd2e56813197d0c38db5df8110aaeaabb","modified":1510893735624},{"_id":"themes/materialize/source/_js-source/app.js","hash":"6f868013afbbd8d766ec10bc8e4729727f44bebd","modified":1510893735624},{"_id":"themes/materialize/source/_js-source/lightbox-on-articles.js","hash":"cc040c2a57c3abaa0253f989c119e133e85104bb","modified":1510893735624},{"_id":"themes/materialize/source/_js-source/loadCss.js","hash":"6963322ed8ba91629930b77f99e38da599f71019","modified":1510893735624},{"_id":"themes/materialize/source/_js-source/share-post.js","hash":"a6a9563decf4b7387f439a21817daa8cb0eb8c55","modified":1510893735624},{"_id":"themes/materialize/source/css/_variables.styl","hash":"7959377e6c4e1dba6e3def25a4bd8a1c70bfa19d","modified":1510893735624},{"_id":"themes/materialize/source/css/style.styl","hash":"84a52525e1a9243a79f424479692fd8362fd37f8","modified":1510893735624},{"_id":"themes/materialize/source/images/_hexo-theme-materialize.jpg","hash":"a15ed49c2623601221588ed50e3fc4bbaa7ad880","modified":1510893735632},{"_id":"themes/materialize/source/images/close.png","hash":"3ca48361cfe0e41163023d03c26296f375bb3eac","modified":1510893735632},{"_id":"themes/materialize/source/images/loading.gif","hash":"cf720b50cf8dde0e1a84ce1c6a77788bfc5882d5","modified":1510893735632},{"_id":"themes/materialize/source/images/next.png","hash":"777e92c050f600b4519299c3d786b8f2f459fea4","modified":1510893735632},{"_id":"themes/materialize/source/images/prev.png","hash":"6640a3432f7ba7aea6129cdf7a5d3eabd47c295c","modified":1510893735632},{"_id":"themes/materialize/source/js/build.txt","hash":"633778edd9b6cb87e7ee6393409957bf638a000e","modified":1510893735632},{"_id":"themes/materialize/source/js/app.js","hash":"5b2fabc980e99b2b4e90b8ccffab0c82005e5a33","modified":1510893735632},{"_id":"themes/materialize/source/js/lightbox-on-articles.js","hash":"dbcee0e1f8fbca1fb2a0ecec82e969da83a0413a","modified":1510893735632},{"_id":"themes/materialize/source/js/loadCss.js","hash":"ca6030574ad6d36f4c35ac0ffa1ced2d260cf38d","modified":1510893735632},{"_id":"themes/materialize/source/js/share-post.js","hash":"6031c27d0156edd1863d6cb1edb59c3e89535e5f","modified":1510893735632},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1510893735632},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1510893735632},{"_id":"themes/materialize/.git/objects/pack/pack-1df96fe95c412fa9315aac9e6ca5fd8b3af2092a.idx","hash":"30e25cbb9a786f5f840a8c66564299928df65469","modified":1510893735440},{"_id":"themes/materialize/.git/refs/heads/master","hash":"b7363b077bacfbca70d5b2e76c5f4d891a2aa537","modified":1510893735584},{"_id":"themes/materialize/layout/_partial/post/category.ejs","hash":"16128d2422645e18d1b6882d4c4df17d895bd76e","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/post/gallery.ejs","hash":"b0bf3f5d923c261ca2b5fabab513f1ec2708c8ca","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/post/nav.ejs","hash":"44ae7696be6d0cfcb5c3f3aba567aab46fb0025d","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/post/tag.ejs","hash":"694b5101bcc44c9f9c1cc62e5ad2fdfb4b7c7a07","modified":1510893735624},{"_id":"themes/materialize/layout/_partial/post/title.ejs","hash":"4cee17c392cf647d65185272ed676ca477c53a5b","modified":1510893735624},{"_id":"themes/materialize/source/css/_partial/header.styl","hash":"eb88b084642621abbfcd3f0ef4a3089ad6375d19","modified":1510893735624},{"_id":"themes/materialize/source/css/_partial/article.styl","hash":"83052d4add301be1dd8d84d1a417767d08e05b79","modified":1510893735624},{"_id":"themes/materialize/source/css/_partial/highlight.styl","hash":"49763e5f7a7077b82925331d304f90d0b459e68b","modified":1510893735624},{"_id":"themes/materialize/source/css/_partial/index.styl","hash":"b86d062d2c374b76c7c95d2f2a876a137083fe69","modified":1510893735624},{"_id":"themes/materialize/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1510893735624},{"_id":"themes/materialize/source/css/vendors.css","hash":"467d0c9771160cb69b0cca8c654453ffa1b3198b","modified":1510893735624},{"_id":"themes/materialize/source/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1510893735624},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1510893735628},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1510893735632},{"_id":"themes/materialize/.git/logs/refs/heads/master","hash":"fa66cac5e5d7983e9a565fb394b2ca54e5c8a8ce","modified":1510893735604},{"_id":"themes/materialize/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1510893735584},{"_id":"themes/materialize/source/js/vendors.js","hash":"4f624a853dd1df3d846ed7d5c266248f5e1aa457","modified":1510893735636},{"_id":"themes/materialize/.git/logs/refs/remotes/origin/HEAD","hash":"fa66cac5e5d7983e9a565fb394b2ca54e5c8a8ce","modified":1510893735584},{"_id":"themes/materialize/source/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1510893735628},{"_id":"themes/materialize/.git/objects/pack/pack-1df96fe95c412fa9315aac9e6ca5fd8b3af2092a.pack","hash":"bb3a6850a85b07184689175ffaba207ebdd9bc35","modified":1510893735440},{"_id":"public/atom.xml","hash":"ba61ba14598b87700abf8a041b2c0dfe2a2901ef","modified":1510908074968},{"_id":"public/sitemap.xml","hash":"9548cbfba3313b4f50c9961aa44fac2e621ec94d","modified":1510908075048},{"_id":"public/index.html","hash":"67ddaa23ef475d3cea9ffbf4aa9a70c47980de60","modified":1510908075051},{"_id":"public/blog/hello-world/index.html","hash":"628ea8d5ca829a3a233f2eec29fb0a3dc33ada99","modified":1510908075051},{"_id":"public/blog/Replace-HDFS-with-CephFS-in-Hadoop/index.html","hash":"53d7711471eee761093dd2f610d2d56a855da285","modified":1510908075052},{"_id":"public/blog/index.html","hash":"3339f69154d7259e7609e56c9e11377b683d8856","modified":1510908075052},{"_id":"public/blog/2017/index.html","hash":"45b1dcfd03c994ba380f4c18446b0cceff3d316b","modified":1510908075052},{"_id":"public/blog/2017/11/index.html","hash":"cd6aec65d442bbf6b4c621c6df4576e1a6d94b92","modified":1510908075052},{"_id":"public/images/close.png","hash":"3ca48361cfe0e41163023d03c26296f375bb3eac","modified":1510908075057},{"_id":"public/images/loading.gif","hash":"cf720b50cf8dde0e1a84ce1c6a77788bfc5882d5","modified":1510908075057},{"_id":"public/images/prev.png","hash":"6640a3432f7ba7aea6129cdf7a5d3eabd47c295c","modified":1510908075057},{"_id":"public/images/next.png","hash":"777e92c050f600b4519299c3d786b8f2f459fea4","modified":1510908075057},{"_id":"public/js/build.txt","hash":"633778edd9b6cb87e7ee6393409957bf638a000e","modified":1510908075057},{"_id":"public/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1510908075438},{"_id":"public/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1510908075438},{"_id":"public/css/style.css","hash":"9420f2f90f457f964fd05092d278487341a4d584","modified":1510908075447},{"_id":"public/js/lightbox-on-articles.js","hash":"dbcee0e1f8fbca1fb2a0ecec82e969da83a0413a","modified":1510908075447},{"_id":"public/js/app.js","hash":"5b2fabc980e99b2b4e90b8ccffab0c82005e5a33","modified":1510908075447},{"_id":"public/js/loadCss.js","hash":"ca6030574ad6d36f4c35ac0ffa1ced2d260cf38d","modified":1510908075447},{"_id":"public/js/share-post.js","hash":"6031c27d0156edd1863d6cb1edb59c3e89535e5f","modified":1510908075447},{"_id":"public/css/vendors.css","hash":"04879d0278bafee6d06f2289a40c615ad36b66ff","modified":1510908075447},{"_id":"public/js/vendors.js","hash":"25bca2ce4e648782aec6f3b15d326f8773d0150a","modified":1510908075447},{"_id":"public/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1510908075447},{"_id":"public/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1510908075447},{"_id":"public/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1510908075447},{"_id":"public/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1510908075450}],"Category":[],"Data":[],"Page":[{"layout":"index","title":"","comments":0,"_content":"\n\n<div class=\"container\">\n\n  <div class=\"row\">\n    <div class=\"col s12 center-align\">\n      <h4 class=\"card-title color-featured\">\n        Hey, my name is Ryan\n      </h4>\n      <h5>\n        I'm agnostic about violence\n      </h5>\n\n      <p>\n        Who will fall in love with ordinary?\n      </p>\n\n    </div>\n  </div>\n\n</div>\n","source":"index.html","raw":"---\nlayout: index\ntitle:\ncomments: false\n---\n\n\n<div class=\"container\">\n\n  <div class=\"row\">\n    <div class=\"col s12 center-align\">\n      <h4 class=\"card-title color-featured\">\n        Hey, my name is Ryan\n      </h4>\n      <h5>\n        I'm agnostic about violence\n      </h5>\n\n      <p>\n        Who will fall in love with ordinary?\n      </p>\n\n    </div>\n  </div>\n\n</div>\n","date":"2017-11-17T07:32:16.511Z","updated":"2017-11-17T07:32:16.507Z","path":"index.html","_id":"cja3nnnmu0000bts53ensd5kw","content":"\n\n<div class=\"container\">\n\n  <div class=\"row\">\n    <div class=\"col s12 center-align\">\n      <h4 class=\"card-title color-featured\">\n        Hey, my name is Ryan\n      </h4>\n      <h5>\n        I'm agnostic about violence\n      </h5>\n\n      <p>\n        Who will fall in love with ordinary?\n      </p>\n\n    </div>\n  </div>\n\n</div>\n","site":{"data":{}},"excerpt":"","more":"\n\n<div class=\"container\">\n\n  <div class=\"row\">\n    <div class=\"col s12 center-align\">\n      <h4 class=\"card-title color-featured\">\n        Hey, my name is Ryan\n      </h4>\n      <h5>\n        I'm agnostic about violence\n      </h5>\n\n      <p>\n        Who will fall in love with ordinary?\n      </p>\n\n    </div>\n  </div>\n\n</div>\n"}],"Post":[{"title":"Replace HDFS With CephFS in Hadoop （Stand-Alone）","_content":"##### 环境\n```\nlsb_release -d\nUbuntu 16.04.2 LTS\n\njava -version\nopenjdk version \"1.8.0_131\"\n\nant -version\nAnt：Apache Ant(TM) version 1.9.6\n```\n\n##### 下载源码\n###### hadoop\n```\ngit clone https://github.com/apache/hadoop.git\n```\n\n###### ceph\n```\ngit clone https://github.com/ceph/ceph.git\n```\n\n##### 分支选择\n根据ceph官网的描述，\"Currently requires Hadoop 1.1.X stable series\"，使用hadoop的release-1.1.2分支，ceph使用luminous分支\n\n##### 编译hadoop\n```\ncd hpath  \ngit checkout release-1.1.2\n```\n修改src/mapred/org/apache/hadoop/mapreduce/lib/partition/InputSampler.java第319行\n```\nK[] samples = (K[])sampler.getSample(inf, job);\n```\n然后执行\n```  \nant compile  \n```\n`hpath: 替换为相应的hadoop目录的路径`\n\n##### 编译ceph\n```\ncd cpath  \ngit checkout luminous  \n./run-make-check.sh\ncd build  \nmake vstart        \n../src/vstart.sh -d -n -x -l  \nbin/ceph -s  \n```\n`cpath: 替换为相应的ceph目录的路径`\n\n如果显示如下，则ceph单机测试集群已经启动  \n```\ncluster:  \n  id:     34d6f7d7-3d0b-46c6-848d-69b0dfe33965  \n  health: HEALTH_OK\n\nservices:  \n  mon: 3 daemons, quorum a,b,c  \n  mgr: x(active)  \n  mds: cephfs_a-1/1/1 up  {0=c=up:active}, 2 up:standby  \n  osd: 3 osds: 3 up, 3 in\n```\n\n##### 创建hadoop使用的pool\n```\nbin/ceph osd pool create hadoop 100  \nbin/ceph osd pool set hadoop size 1  \nbin/ceph mds add_data_pool hadoop\n```\n\n##### 挂载cephfs\n```\nmkdir cephfs\nsudo mount -t ceph host:port:/ /mnt/cephfs -o name=admin,secret=keyring  \n```\n`host: ceph mon的ip或者hostname,可以通过ceph mon stat查看`  \n`port: ceph mon的端口`  \n`keyring: 替换为ceph路径下build/keyring中[client.admin]的key`\n\n##### 安装依赖\n添加key\n```\nwget -q -O- 'https://download.ceph.com/keys/release.asc' | sudo apt-key add -\n```\n在/etc/apt/sources.list中加入  \n```\ndeb http://mirrors.aliyun.com/ceph/debian-luminous xenial main  \ndeb-src http://mirrors.aliyun.com/ceph/debian-luminous xenial main  \n```\n`根据具体的OS和ceph可替换相应的版本`  \n```\nsudo apt-get update  \nsudo apt-get install libcephfs-jni libcephfs-java  \nln -s /usr/lib/jni/libcephfs_jni.so hpath/lib/\n```\n\n下载ceph官网提供的插件hadoop-cephfs.jar  \n```\ncp dpath/hadoop-cephfs.jar hpath/lib/  \n```\n`hpath: 替换为相应的hadoop目录的路径`  \n`dpath: 替换为相应的下载路径`\n\n##### 配置文件\n###### hadoop-env.sh\n在文件中加入  \n```\nJAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64    \n```\n`替换为相应的jdk路径`\n```\nexport HADOOP_CLASSPATH=/usr/share/java/libcephfs.jar\n```\n`通常在/usr/share/java路径下，可以通过locate定位包的位置`\n\n###### core.site.xml\n```xml\n<configuration>\n\n        <property>\n        <name>fs.default.name</name>\n        <value>ceph://host:port/</value>\n        </property>\n\n        <property>\n        <name>ceph.conf.file</name>\n        <value>cpath/build/ceph.conf</value>\n        </property>\n\n        <property>\n        <name>ceph.auth.id</name>\n        <value>admin</value>\n        </property>\n\n        <property>\n        <name>ceph.auth.keyring</name>\n        <value>cpath/build/keyring</value>\n        </property>\n\n        <property>\n        <name>ceph.data.pools</name>\n        <value>hadoop</value>\n        </property>\n\n        <property>\n        <name>fs.ceph.impl</name>\n        <value>org.apache.hadoop.fs.ceph.CephFileSystem</value>\n        </property>\n\n</configuration>\n```\n`host: ceph mon的ip或者hostname`  \n`port: ceph mon的端口`  \n`cpath: 替换为相应的ceph目录的路径`\n\n###### mapred-site.xml\n```xml\n<configuration>\n\n        <property>\n        <name>mapred.job.tracker</name>\n        <value>host:9001</value>\n        </property>\n\n</configuration>\n```\n`host: ceph mon的ip`\n\n###### masters\n```\n        host\n\n```\n###### slaves\n```\n        host\n```\n`masters和slaves中的host意义同上`\n\n##### 测试\n```\ncd hpath  \nbin/start-mapred.sh  \njps  \n```\n可以看到JobTracker和TaskTracker即启动成功\n\n```\nbin/hadoop fs -put README.txt /\nLoading libcephfs-jni from default path:  \n/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib  \nLoading libcephfs-jni: Success!  \n```\n\n```\nbin/hadoop fs -ls /  \nLoading libcephfs-jni from default path:  \n/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib  \nLoading libcephfs-jni: Success!  \nFound 2 items  \ndrwxrwxrwx   - lab          4 2017-10-25 11:44 /tmp  \n-rwxrwxrwx   3 lab       1366 2017-10-25 11:44 /README.txt  \n```\n","source":"_posts/Replace-HDFS-with-CephFS-in-Hadoop.md","raw":"---\ntitle: Replace HDFS with CephFS in Hadoop （Stand-alone）\n---\n##### 环境\n```\nlsb_release -d\nUbuntu 16.04.2 LTS\n\njava -version\nopenjdk version \"1.8.0_131\"\n\nant -version\nAnt：Apache Ant(TM) version 1.9.6\n```\n\n##### 下载源码\n###### hadoop\n```\ngit clone https://github.com/apache/hadoop.git\n```\n\n###### ceph\n```\ngit clone https://github.com/ceph/ceph.git\n```\n\n##### 分支选择\n根据ceph官网的描述，\"Currently requires Hadoop 1.1.X stable series\"，使用hadoop的release-1.1.2分支，ceph使用luminous分支\n\n##### 编译hadoop\n```\ncd hpath  \ngit checkout release-1.1.2\n```\n修改src/mapred/org/apache/hadoop/mapreduce/lib/partition/InputSampler.java第319行\n```\nK[] samples = (K[])sampler.getSample(inf, job);\n```\n然后执行\n```  \nant compile  \n```\n`hpath: 替换为相应的hadoop目录的路径`\n\n##### 编译ceph\n```\ncd cpath  \ngit checkout luminous  \n./run-make-check.sh\ncd build  \nmake vstart        \n../src/vstart.sh -d -n -x -l  \nbin/ceph -s  \n```\n`cpath: 替换为相应的ceph目录的路径`\n\n如果显示如下，则ceph单机测试集群已经启动  \n```\ncluster:  \n  id:     34d6f7d7-3d0b-46c6-848d-69b0dfe33965  \n  health: HEALTH_OK\n\nservices:  \n  mon: 3 daemons, quorum a,b,c  \n  mgr: x(active)  \n  mds: cephfs_a-1/1/1 up  {0=c=up:active}, 2 up:standby  \n  osd: 3 osds: 3 up, 3 in\n```\n\n##### 创建hadoop使用的pool\n```\nbin/ceph osd pool create hadoop 100  \nbin/ceph osd pool set hadoop size 1  \nbin/ceph mds add_data_pool hadoop\n```\n\n##### 挂载cephfs\n```\nmkdir cephfs\nsudo mount -t ceph host:port:/ /mnt/cephfs -o name=admin,secret=keyring  \n```\n`host: ceph mon的ip或者hostname,可以通过ceph mon stat查看`  \n`port: ceph mon的端口`  \n`keyring: 替换为ceph路径下build/keyring中[client.admin]的key`\n\n##### 安装依赖\n添加key\n```\nwget -q -O- 'https://download.ceph.com/keys/release.asc' | sudo apt-key add -\n```\n在/etc/apt/sources.list中加入  \n```\ndeb http://mirrors.aliyun.com/ceph/debian-luminous xenial main  \ndeb-src http://mirrors.aliyun.com/ceph/debian-luminous xenial main  \n```\n`根据具体的OS和ceph可替换相应的版本`  \n```\nsudo apt-get update  \nsudo apt-get install libcephfs-jni libcephfs-java  \nln -s /usr/lib/jni/libcephfs_jni.so hpath/lib/\n```\n\n下载ceph官网提供的插件hadoop-cephfs.jar  \n```\ncp dpath/hadoop-cephfs.jar hpath/lib/  \n```\n`hpath: 替换为相应的hadoop目录的路径`  \n`dpath: 替换为相应的下载路径`\n\n##### 配置文件\n###### hadoop-env.sh\n在文件中加入  \n```\nJAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64    \n```\n`替换为相应的jdk路径`\n```\nexport HADOOP_CLASSPATH=/usr/share/java/libcephfs.jar\n```\n`通常在/usr/share/java路径下，可以通过locate定位包的位置`\n\n###### core.site.xml\n```xml\n<configuration>\n\n        <property>\n        <name>fs.default.name</name>\n        <value>ceph://host:port/</value>\n        </property>\n\n        <property>\n        <name>ceph.conf.file</name>\n        <value>cpath/build/ceph.conf</value>\n        </property>\n\n        <property>\n        <name>ceph.auth.id</name>\n        <value>admin</value>\n        </property>\n\n        <property>\n        <name>ceph.auth.keyring</name>\n        <value>cpath/build/keyring</value>\n        </property>\n\n        <property>\n        <name>ceph.data.pools</name>\n        <value>hadoop</value>\n        </property>\n\n        <property>\n        <name>fs.ceph.impl</name>\n        <value>org.apache.hadoop.fs.ceph.CephFileSystem</value>\n        </property>\n\n</configuration>\n```\n`host: ceph mon的ip或者hostname`  \n`port: ceph mon的端口`  \n`cpath: 替换为相应的ceph目录的路径`\n\n###### mapred-site.xml\n```xml\n<configuration>\n\n        <property>\n        <name>mapred.job.tracker</name>\n        <value>host:9001</value>\n        </property>\n\n</configuration>\n```\n`host: ceph mon的ip`\n\n###### masters\n```\n        host\n\n```\n###### slaves\n```\n        host\n```\n`masters和slaves中的host意义同上`\n\n##### 测试\n```\ncd hpath  \nbin/start-mapred.sh  \njps  \n```\n可以看到JobTracker和TaskTracker即启动成功\n\n```\nbin/hadoop fs -put README.txt /\nLoading libcephfs-jni from default path:  \n/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib  \nLoading libcephfs-jni: Success!  \n```\n\n```\nbin/hadoop fs -ls /  \nLoading libcephfs-jni from default path:  \n/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib  \nLoading libcephfs-jni: Success!  \nFound 2 items  \ndrwxrwxrwx   - lab          4 2017-10-25 11:44 /tmp  \n-rwxrwxrwx   3 lab       1366 2017-10-25 11:44 /README.txt  \n```\n","slug":"Replace-HDFS-with-CephFS-in-Hadoop","published":1,"date":"2017-11-01T13:29:38.788Z","updated":"2017-11-01T13:29:38.788Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cja3nnnnd0001bts50bo4f8rg","content":"<h5 id=\"环境\"><a href=\"#环境\" class=\"headerlink\" title=\"环境\"></a>环境</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">lsb_release -d</div><div class=\"line\">Ubuntu 16.04.2 LTS</div><div class=\"line\"></div><div class=\"line\">java -version</div><div class=\"line\">openjdk version &quot;1.8.0_131&quot;</div><div class=\"line\"></div><div class=\"line\">ant -version</div><div class=\"line\">Ant：Apache Ant(TM) version 1.9.6</div></pre></td></tr></table></figure>\n<h5 id=\"下载源码\"><a href=\"#下载源码\" class=\"headerlink\" title=\"下载源码\"></a>下载源码</h5><h6 id=\"hadoop\"><a href=\"#hadoop\" class=\"headerlink\" title=\"hadoop\"></a>hadoop</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone https://github.com/apache/hadoop.git</div></pre></td></tr></table></figure>\n<h6 id=\"ceph\"><a href=\"#ceph\" class=\"headerlink\" title=\"ceph\"></a>ceph</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone https://github.com/ceph/ceph.git</div></pre></td></tr></table></figure>\n<h5 id=\"分支选择\"><a href=\"#分支选择\" class=\"headerlink\" title=\"分支选择\"></a>分支选择</h5><p>根据ceph官网的描述，”Currently requires Hadoop 1.1.X stable series”，使用hadoop的release-1.1.2分支，ceph使用luminous分支</p>\n<h5 id=\"编译hadoop\"><a href=\"#编译hadoop\" class=\"headerlink\" title=\"编译hadoop\"></a>编译hadoop</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd hpath  </div><div class=\"line\">git checkout release-1.1.2</div></pre></td></tr></table></figure>\n<p>修改src/mapred/org/apache/hadoop/mapreduce/lib/partition/InputSampler.java第319行<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">K[] samples = (K[])sampler.getSample(inf, job);</div></pre></td></tr></table></figure></p>\n<p>然后执行<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ant compile</div></pre></td></tr></table></figure></p>\n<p><code>hpath: 替换为相应的hadoop目录的路径</code></p>\n<h5 id=\"编译ceph\"><a href=\"#编译ceph\" class=\"headerlink\" title=\"编译ceph\"></a>编译ceph</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd cpath  </div><div class=\"line\">git checkout luminous  </div><div class=\"line\">./run-make-check.sh</div><div class=\"line\">cd build  </div><div class=\"line\">make vstart        </div><div class=\"line\">../src/vstart.sh -d -n -x -l  </div><div class=\"line\">bin/ceph -s</div></pre></td></tr></table></figure>\n<p><code>cpath: 替换为相应的ceph目录的路径</code></p>\n<p>如果显示如下，则ceph单机测试集群已经启动<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">cluster:  </div><div class=\"line\">  id:     34d6f7d7-3d0b-46c6-848d-69b0dfe33965  </div><div class=\"line\">  health: HEALTH_OK</div><div class=\"line\"></div><div class=\"line\">services:  </div><div class=\"line\">  mon: 3 daemons, quorum a,b,c  </div><div class=\"line\">  mgr: x(active)  </div><div class=\"line\">  mds: cephfs_a-1/1/1 up  &#123;0=c=up:active&#125;, 2 up:standby  </div><div class=\"line\">  osd: 3 osds: 3 up, 3 in</div></pre></td></tr></table></figure></p>\n<h5 id=\"创建hadoop使用的pool\"><a href=\"#创建hadoop使用的pool\" class=\"headerlink\" title=\"创建hadoop使用的pool\"></a>创建hadoop使用的pool</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">bin/ceph osd pool create hadoop 100  </div><div class=\"line\">bin/ceph osd pool set hadoop size 1  </div><div class=\"line\">bin/ceph mds add_data_pool hadoop</div></pre></td></tr></table></figure>\n<h5 id=\"挂载cephfs\"><a href=\"#挂载cephfs\" class=\"headerlink\" title=\"挂载cephfs\"></a>挂载cephfs</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir cephfs</div><div class=\"line\">sudo mount -t ceph host:port:/ /mnt/cephfs -o name=admin,secret=keyring</div></pre></td></tr></table></figure>\n<p><code>host: ceph mon的ip或者hostname,可以通过ceph mon stat查看</code><br><code>port: ceph mon的端口</code><br><code>keyring: 替换为ceph路径下build/keyring中[client.admin]的key</code></p>\n<h5 id=\"安装依赖\"><a href=\"#安装依赖\" class=\"headerlink\" title=\"安装依赖\"></a>安装依赖</h5><p>添加key<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget -q -O- &apos;https://download.ceph.com/keys/release.asc&apos; | sudo apt-key add -</div></pre></td></tr></table></figure></p>\n<p>在/etc/apt/sources.list中加入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">deb http://mirrors.aliyun.com/ceph/debian-luminous xenial main  </div><div class=\"line\">deb-src http://mirrors.aliyun.com/ceph/debian-luminous xenial main</div></pre></td></tr></table></figure></p>\n<p><code>根据具体的OS和ceph可替换相应的版本</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo apt-get update  </div><div class=\"line\">sudo apt-get install libcephfs-jni libcephfs-java  </div><div class=\"line\">ln -s /usr/lib/jni/libcephfs_jni.so hpath/lib/</div></pre></td></tr></table></figure></p>\n<p>下载ceph官网提供的插件hadoop-cephfs.jar<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cp dpath/hadoop-cephfs.jar hpath/lib/</div></pre></td></tr></table></figure></p>\n<p><code>hpath: 替换为相应的hadoop目录的路径</code><br><code>dpath: 替换为相应的下载路径</code></p>\n<h5 id=\"配置文件\"><a href=\"#配置文件\" class=\"headerlink\" title=\"配置文件\"></a>配置文件</h5><h6 id=\"hadoop-env-sh\"><a href=\"#hadoop-env-sh\" class=\"headerlink\" title=\"hadoop-env.sh\"></a>hadoop-env.sh</h6><p>在文件中加入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</div></pre></td></tr></table></figure></p>\n<p><code>替换为相应的jdk路径</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">export HADOOP_CLASSPATH=/usr/share/java/libcephfs.jar</div></pre></td></tr></table></figure></p>\n<p><code>通常在/usr/share/java路径下，可以通过locate定位包的位置</code></p>\n<h6 id=\"core-site-xml\"><a href=\"#core-site-xml\" class=\"headerlink\" title=\"core.site.xml\"></a>core.site.xml</h6><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>fs.default.name<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>ceph://host:port/<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>ceph.conf.file<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>cpath/build/ceph.conf<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>ceph.auth.id<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>admin<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>ceph.auth.keyring<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>cpath/build/keyring<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>ceph.data.pools<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>hadoop<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>fs.ceph.impl<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>org.apache.hadoop.fs.ceph.CephFileSystem<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></div></pre></td></tr></table></figure>\n<p><code>host: ceph mon的ip或者hostname</code><br><code>port: ceph mon的端口</code><br><code>cpath: 替换为相应的ceph目录的路径</code></p>\n<h6 id=\"mapred-site-xml\"><a href=\"#mapred-site-xml\" class=\"headerlink\" title=\"mapred-site.xml\"></a>mapred-site.xml</h6><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapred.job.tracker<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>host:9001<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></div></pre></td></tr></table></figure>\n<p><code>host: ceph mon的ip</code></p>\n<h6 id=\"masters\"><a href=\"#masters\" class=\"headerlink\" title=\"masters\"></a>masters</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">host</div></pre></td></tr></table></figure>\n<h6 id=\"slaves\"><a href=\"#slaves\" class=\"headerlink\" title=\"slaves\"></a>slaves</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">host</div></pre></td></tr></table></figure>\n<p><code>masters和slaves中的host意义同上</code></p>\n<h5 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd hpath  </div><div class=\"line\">bin/start-mapred.sh  </div><div class=\"line\">jps</div></pre></td></tr></table></figure>\n<p>可以看到JobTracker和TaskTracker即启动成功</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">bin/hadoop fs -put README.txt /</div><div class=\"line\">Loading libcephfs-jni from default path:  </div><div class=\"line\">/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib  </div><div class=\"line\">Loading libcephfs-jni: Success!</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">bin/hadoop fs -ls /  </div><div class=\"line\">Loading libcephfs-jni from default path:  </div><div class=\"line\">/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib  </div><div class=\"line\">Loading libcephfs-jni: Success!  </div><div class=\"line\">Found 2 items  </div><div class=\"line\">drwxrwxrwx   - lab          4 2017-10-25 11:44 /tmp  </div><div class=\"line\">-rwxrwxrwx   3 lab       1366 2017-10-25 11:44 /README.txt</div></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h5 id=\"环境\"><a href=\"#环境\" class=\"headerlink\" title=\"环境\"></a>环境</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">lsb_release -d</div><div class=\"line\">Ubuntu 16.04.2 LTS</div><div class=\"line\"></div><div class=\"line\">java -version</div><div class=\"line\">openjdk version &quot;1.8.0_131&quot;</div><div class=\"line\"></div><div class=\"line\">ant -version</div><div class=\"line\">Ant：Apache Ant(TM) version 1.9.6</div></pre></td></tr></table></figure>\n<h5 id=\"下载源码\"><a href=\"#下载源码\" class=\"headerlink\" title=\"下载源码\"></a>下载源码</h5><h6 id=\"hadoop\"><a href=\"#hadoop\" class=\"headerlink\" title=\"hadoop\"></a>hadoop</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone https://github.com/apache/hadoop.git</div></pre></td></tr></table></figure>\n<h6 id=\"ceph\"><a href=\"#ceph\" class=\"headerlink\" title=\"ceph\"></a>ceph</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone https://github.com/ceph/ceph.git</div></pre></td></tr></table></figure>\n<h5 id=\"分支选择\"><a href=\"#分支选择\" class=\"headerlink\" title=\"分支选择\"></a>分支选择</h5><p>根据ceph官网的描述，”Currently requires Hadoop 1.1.X stable series”，使用hadoop的release-1.1.2分支，ceph使用luminous分支</p>\n<h5 id=\"编译hadoop\"><a href=\"#编译hadoop\" class=\"headerlink\" title=\"编译hadoop\"></a>编译hadoop</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd hpath  </div><div class=\"line\">git checkout release-1.1.2</div></pre></td></tr></table></figure>\n<p>修改src/mapred/org/apache/hadoop/mapreduce/lib/partition/InputSampler.java第319行<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">K[] samples = (K[])sampler.getSample(inf, job);</div></pre></td></tr></table></figure></p>\n<p>然后执行<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ant compile</div></pre></td></tr></table></figure></p>\n<p><code>hpath: 替换为相应的hadoop目录的路径</code></p>\n<h5 id=\"编译ceph\"><a href=\"#编译ceph\" class=\"headerlink\" title=\"编译ceph\"></a>编译ceph</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd cpath  </div><div class=\"line\">git checkout luminous  </div><div class=\"line\">./run-make-check.sh</div><div class=\"line\">cd build  </div><div class=\"line\">make vstart        </div><div class=\"line\">../src/vstart.sh -d -n -x -l  </div><div class=\"line\">bin/ceph -s</div></pre></td></tr></table></figure>\n<p><code>cpath: 替换为相应的ceph目录的路径</code></p>\n<p>如果显示如下，则ceph单机测试集群已经启动<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">cluster:  </div><div class=\"line\">  id:     34d6f7d7-3d0b-46c6-848d-69b0dfe33965  </div><div class=\"line\">  health: HEALTH_OK</div><div class=\"line\"></div><div class=\"line\">services:  </div><div class=\"line\">  mon: 3 daemons, quorum a,b,c  </div><div class=\"line\">  mgr: x(active)  </div><div class=\"line\">  mds: cephfs_a-1/1/1 up  &#123;0=c=up:active&#125;, 2 up:standby  </div><div class=\"line\">  osd: 3 osds: 3 up, 3 in</div></pre></td></tr></table></figure></p>\n<h5 id=\"创建hadoop使用的pool\"><a href=\"#创建hadoop使用的pool\" class=\"headerlink\" title=\"创建hadoop使用的pool\"></a>创建hadoop使用的pool</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">bin/ceph osd pool create hadoop 100  </div><div class=\"line\">bin/ceph osd pool set hadoop size 1  </div><div class=\"line\">bin/ceph mds add_data_pool hadoop</div></pre></td></tr></table></figure>\n<h5 id=\"挂载cephfs\"><a href=\"#挂载cephfs\" class=\"headerlink\" title=\"挂载cephfs\"></a>挂载cephfs</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir cephfs</div><div class=\"line\">sudo mount -t ceph host:port:/ /mnt/cephfs -o name=admin,secret=keyring</div></pre></td></tr></table></figure>\n<p><code>host: ceph mon的ip或者hostname,可以通过ceph mon stat查看</code><br><code>port: ceph mon的端口</code><br><code>keyring: 替换为ceph路径下build/keyring中[client.admin]的key</code></p>\n<h5 id=\"安装依赖\"><a href=\"#安装依赖\" class=\"headerlink\" title=\"安装依赖\"></a>安装依赖</h5><p>添加key<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">wget -q -O- &apos;https://download.ceph.com/keys/release.asc&apos; | sudo apt-key add -</div></pre></td></tr></table></figure></p>\n<p>在/etc/apt/sources.list中加入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">deb http://mirrors.aliyun.com/ceph/debian-luminous xenial main  </div><div class=\"line\">deb-src http://mirrors.aliyun.com/ceph/debian-luminous xenial main</div></pre></td></tr></table></figure></p>\n<p><code>根据具体的OS和ceph可替换相应的版本</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo apt-get update  </div><div class=\"line\">sudo apt-get install libcephfs-jni libcephfs-java  </div><div class=\"line\">ln -s /usr/lib/jni/libcephfs_jni.so hpath/lib/</div></pre></td></tr></table></figure></p>\n<p>下载ceph官网提供的插件hadoop-cephfs.jar<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cp dpath/hadoop-cephfs.jar hpath/lib/</div></pre></td></tr></table></figure></p>\n<p><code>hpath: 替换为相应的hadoop目录的路径</code><br><code>dpath: 替换为相应的下载路径</code></p>\n<h5 id=\"配置文件\"><a href=\"#配置文件\" class=\"headerlink\" title=\"配置文件\"></a>配置文件</h5><h6 id=\"hadoop-env-sh\"><a href=\"#hadoop-env-sh\" class=\"headerlink\" title=\"hadoop-env.sh\"></a>hadoop-env.sh</h6><p>在文件中加入<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</div></pre></td></tr></table></figure></p>\n<p><code>替换为相应的jdk路径</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">export HADOOP_CLASSPATH=/usr/share/java/libcephfs.jar</div></pre></td></tr></table></figure></p>\n<p><code>通常在/usr/share/java路径下，可以通过locate定位包的位置</code></p>\n<h6 id=\"core-site-xml\"><a href=\"#core-site-xml\" class=\"headerlink\" title=\"core.site.xml\"></a>core.site.xml</h6><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>fs.default.name<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>ceph://host:port/<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>ceph.conf.file<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>cpath/build/ceph.conf<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>ceph.auth.id<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>admin<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>ceph.auth.keyring<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>cpath/build/keyring<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>ceph.data.pools<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>hadoop<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>fs.ceph.impl<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>org.apache.hadoop.fs.ceph.CephFileSystem<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></div></pre></td></tr></table></figure>\n<p><code>host: ceph mon的ip或者hostname</code><br><code>port: ceph mon的端口</code><br><code>cpath: 替换为相应的ceph目录的路径</code></p>\n<h6 id=\"mapred-site-xml\"><a href=\"#mapred-site-xml\" class=\"headerlink\" title=\"mapred-site.xml\"></a>mapred-site.xml</h6><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">property</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>mapred.job.tracker<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">value</span>&gt;</span>host:9001<span class=\"tag\">&lt;/<span class=\"name\">value</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></div></pre></td></tr></table></figure>\n<p><code>host: ceph mon的ip</code></p>\n<h6 id=\"masters\"><a href=\"#masters\" class=\"headerlink\" title=\"masters\"></a>masters</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">host</div></pre></td></tr></table></figure>\n<h6 id=\"slaves\"><a href=\"#slaves\" class=\"headerlink\" title=\"slaves\"></a>slaves</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">host</div></pre></td></tr></table></figure>\n<p><code>masters和slaves中的host意义同上</code></p>\n<h5 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd hpath  </div><div class=\"line\">bin/start-mapred.sh  </div><div class=\"line\">jps</div></pre></td></tr></table></figure>\n<p>可以看到JobTracker和TaskTracker即启动成功</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">bin/hadoop fs -put README.txt /</div><div class=\"line\">Loading libcephfs-jni from default path:  </div><div class=\"line\">/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib  </div><div class=\"line\">Loading libcephfs-jni: Success!</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">bin/hadoop fs -ls /  </div><div class=\"line\">Loading libcephfs-jni from default path:  </div><div class=\"line\">/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib  </div><div class=\"line\">Loading libcephfs-jni: Success!  </div><div class=\"line\">Found 2 items  </div><div class=\"line\">drwxrwxrwx   - lab          4 2017-10-25 11:44 /tmp  </div><div class=\"line\">-rwxrwxrwx   3 lab       1366 2017-10-25 11:44 /README.txt</div></pre></td></tr></table></figure>\n"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2017-11-01T13:29:38.788Z","updated":"2017-11-01T13:29:38.788Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cja3nnnnj0002bts5oe33ksxx","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\">Deployment</a></p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}